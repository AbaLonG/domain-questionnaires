<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
    <title>Responses</title>
</h:head>
<h:body style="background-color: ghostwhite">

    <script type="text/javascript">
        var wsUri = "ws://" + document.location.host + document.location.pathname + "responses";
        var webSocket = new WebSocket(wsUri);
    </script>

    <ui:include src="header.xhtml"/>
    <div id="responsesBlock">
        <p:panel id="basic">
            <h:panelGrid columns="1" style="width: 100%;">
                <h:column>
                    <h:outputText id="responsesField" value="Responses"/>
                </h:column>
            </h:panelGrid>
        </p:panel>
        <div id="responsesForm">
            <p:dataTable var="response" value="#{responseBean.responses}" id="responsesData" paginator="true" rows="10"
                         paginatorPosition="bottom" rowsPerPageTemplate="5,10,20"
                         paginatorTemplate="{CurrentPageReport} {PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown}">
                <c:forEach items="#{fieldsBean.fields}" var="field" varStatus="status">
                    <p:column headerText="#{field.label}">
                        <h:outputText value="#{responseBean.getAnswer(response, field.label)}"/>
                    </p:column>
                </c:forEach>
            </p:dataTable>
        </div>
    </div>
    <style type="text/css">
        #responsesBlock {
            width: 70%;
            border: 1px solid gainsboro;
            border-radius: 8px;
            background-color: white;
            margin: 50px auto 20px auto;
        }

        #basic {
            border: none;
            border-bottom: 1px solid gainsboro;
            border-radius: 0px;
        }

        #responsesField {
            font-size: 24px;
            font-family: Arial, Helvetica, sans-serif;
            width: 100%;
            height: 60px;
            margin-left: 0px;
        }

        #responsesForm {
            width: 95%;
            margin-left: auto;
            margin-right: auto;
        }

        #responsesForm .ui-state-default {
            background-color: white;
            height: 40px;
            text-align: left;
            border: 1px solid white;
            border-bottom: 1px solid gainsboro;
            font-weight: bolder;
        }

        #responsesData {
            border: none;
        }

        #responsesData .ui-widget-content {
            border: none;
        }

        #responsesData .ui-datatable-even, #responsesData .ui-datatable-odd {
            border: none;
            height: 40px;
        }

        #responsesData td {
            border: none;
        }

        #responsesData .ui-datatable-tablewrapper {
            border-bottom: 1px solid gainsboro;
        }

        #responsesData {
            border-bottom: none;
        }

        #responsesData .ui-paginator {
            background-color: white;
            border: none;
        }

        #responsesData .ui-paginator-current {
            float: left;
            font-size: 16px;
            font-family: Arial, Helvetica, sans-serif;
            margin-top: 10px;
        }

        #responsesData #responsesData_paginator_bottom {
            background-color: white;
            margin-top: 10px;
            border: none;
        }

        #responsesData .ui-paginator-pages {
            background-color: dodgerblue;
            width: 30px;
            height: 30px;
            border-radius: 3px;
            margin-bottom: 15px;
        }

        #responsesData .ui-paginator-page {
            border: none;
            background-color: dodgerblue;
            text-align: center;
            vertical-align: sub;
            height: 0px;
            box-shadow: inset 0px -2px 0px 20px dodgerblue;
            text-shadow: none;
            color: white;
            font-size: 16px;
            font-weight: normal;
            border-radius: 5px;
        }

        #responsesData .ui-icon {
            height: 20px;
            vertical-align: center;
        }

        #responsesData_paginator_bottom .ui-paginator-prev {
            border: none;
            height: 15px;
        }

        #responsesData_paginator_bottom .ui-paginator-next {
            border: none;
            height: 15px;
        }

        #responsesData .ui-paginator-rpp-options {
            float: right;
            border: 1px solid gainsboro;
            font-weight: normal;
            width: 55px;
        }
    </style>
</h:body>
</html>
